"0","# 整理成数据框"
"0","df <- data.frame("
"0","  weight = weights,"
"0","  OR_median = or_medians,"
"0","  OR_lower = or_lowers,"
"0","  OR_upper = or_uppers"
"0",")"
"0",""
"0","# 查找 tipping point：第一次下界 > 1 的权重"
"0","tp_index <- which(df$OR_lower > 1)[1]"
"0","tp_weight <- df$weight[tp_index]"
"0",""
"0","# 绘图"
"0","library(ggplot2)"
"0",""
"0","ggplot(df, aes(x = weight, y = OR_median)) +"
"0","  geom_ribbon(aes(ymin = OR_lower, ymax = OR_upper), fill = ""skyblue"", alpha = 0.3) +"
"0","  geom_line(color = ""blue"", size = 1.2) +"
"0","  geom_point(size = 2) +"
"0","  geom_hline(yintercept = 1, linetype = ""dashed"", color = ""red"") +"
"0","  geom_vline(xintercept = tp_weight, linetype = ""dotted"", color = ""red"") +"
"0","  annotate(""text"", x = tp_weight, y = df$OR_lower[tp_index], "
"0","           label = paste0(""Tipping Point = "", tp_weight), "
"0","           color = ""red"", hjust = 0, vjust = -1, size = 4) +"
"0","  labs("
"0","    title = ""Tipping Point Analysis: Prior Weight vs Posterior OR"","
"0","    x = ""Prior Weight (w)"","
"0","    y = ""Posterior Odds Ratio (OR)"""
"0","  ) +"
"0","  theme_minimal(base_size = 14)"
